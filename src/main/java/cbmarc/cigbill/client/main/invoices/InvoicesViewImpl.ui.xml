<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
	xmlns:g="urn:import:com.google.gwt.user.client.ui" xmlns:c="urn:import:com.google.gwt.user.cellview.client"
	xmlns:a="urn:import:cbmarc.cigbill.client.ui" xmlns:b="urn:import:com.github.gwtbootstrap.client.ui">

	<ui:with field="appCnts" type="cbmarc.cigbill.client.i18n.AppConstants" />
	<ui:with field="invoicesCnts"
		type="cbmarc.cigbill.client.main.invoices.InvoicesConstants" />
	<ui:with field="customersCnts"
		type="cbmarc.cigbill.client.main.customers.CustomersConstants" />

	<g:HTMLPanel>

		<g:HTMLPanel ui:field="cellTablePanel">

			<b:Paragraph>
				<span>
					<b:Button ui:field="addTableButton" icon="PLUS"
						text="{appCnts.addNewItemButton}">
					</b:Button>
					<b:Button ui:field="deleteTableButton" icon="REMOVE"
						text="{appCnts.deleteSelectedItemsButton}" type="DANGER"></b:Button>
				</span>
				<span class="pull-right">
					<b:Button ui:field="toolbarRefreshButton" icon="REFRESH"
						text="{appCnts.toolbarRefreshButton}"></b:Button>
				</span>
			</b:Paragraph>

			<b:Paragraph>
				<a:AppCellTable ui:field="cellTable"></a:AppCellTable>
			</b:Paragraph>
		</g:HTMLPanel>

		<b:WellForm ui:field="formPanel">

			<b:Fieldset>
				<b:Legend>
					<span class="pull-right">
						<b:Button icon="WARNING_SIGN" ui:field="validationButton"
							type="WARNING"></b:Button>
					</span>
					<g:Label ui:field="legend"></g:Label>
				</b:Legend>

				<b:AlertBlock ui:field="validationPanel" heading="Warning"
					type="ERROR" close="false"></b:AlertBlock>

				<b:TabPanel>
					<b:TabPane heading="General" active="true">
					
						<b:Row>
							<b:Column size="4">
								<b:ControlGroup ui:field="customerNameCG">
									<b:ControlLabel for="customerName">
										<ui:text from="{customersCnts.formName}"></ui:text>
										*
									</b:ControlLabel>
									<b:Controls>
										<b:AppendButton>
											<!-- <b:TextBox ui:field="customerName" b:id="customerName"
												size="3"></b:TextBox> -->
											<g:SuggestBox ui:field="customerName" />
											<b:Button ui:field="selectCustomerButton" icon="SEARCH"></b:Button>
										</b:AppendButton>
									</b:Controls>
								</b:ControlGroup>
							</b:Column>

							<b:Column size="4">
								<b:ControlGroup ui:field="customerEmailCG">
									<b:ControlLabel for="customerEmail">
										<ui:text from="{customersCnts.formEmail}"></ui:text>
									</b:ControlLabel>
									<b:Controls>
										<b:TextBox ui:field="customerEmail" b:id="customerEmail" />
									</b:Controls>
								</b:ControlGroup>
							</b:Column>
						</b:Row>
						
					</b:TabPane>
					<b:TabPane heading="Products">

						<!-- PRODUCTS INVOICES ITEMS -->
						<g:HTMLPanel styleName="" ui:field="productsInvoicesPanel">
							<div class="btn-toolbar">
								<b:Button ui:field="addProductButton" icon="PLUS"
									text="{appCnts.addNewItemButton}"></b:Button>
								<b:Button ui:field="deleteProductButton" icon="REMOVE"
									text="{appCnts.deleteSelectedItemsButton}" type="DANGER"></b:Button>
							</div>
							<div class="row-fluid" style="margin:5px 0;">
								<div class="span">
									<a:AppCellTable ui:field="productsInvoicesCellTable"></a:AppCellTable>
								</div>
							</div>
						</g:HTMLPanel>
						
					</b:TabPane>
					<b:TabPane heading="Notes">
					
						<b:ControlGroup ui:field="notesCG">
							<b:ControlLabel for="notes">
								<ui:text from="{invoicesCnts.formNotes}"></ui:text>
							</b:ControlLabel>
							<b:Controls>
								<b:TextArea ui:field="notes" size="11" visibleLines="4"
									b:id="notes" />
							</b:Controls>
						</b:ControlGroup>
						
					</b:TabPane>
				</b:TabPanel>

				<b:Paragraph styleName="muted"
					text="{appCnts.formRequiredFieldsText}"></b:Paragraph>

				<b:FormActions>
					<g:HTMLPanel>
					
						<span>
							<g:SubmitButton ui:field="submitButton" styleName="btn">
								<i class="icon-ok"></i>
								<ui:text from="{appCnts.formSubmit}"></ui:text>
							</g:SubmitButton>

							<b:Button ui:field="backButton" icon="CHEVRON_LEFT"
								text="{appCnts.formBack}"></b:Button>
						</span>
						<span class="pull-right">
							<b:Button ui:field="formDeleteButton" icon="REMOVE"
								text="{appCnts.formDelete}" type="DANGER"></b:Button>
						</span>

					</g:HTMLPanel>
				</b:FormActions>

			</b:Fieldset>

		</b:WellForm>

		<!-- CUSTOMER MODAL -->
		<b:Modal ui:field="selectCustomerModal" title="Select Customer">
			<a:AppCellTable ui:field="customersCellTable"></a:AppCellTable>
			<b:ModalFooter>
				<b:Button icon="CHEVRON_LEFT" ui:field="selectCustomerModalCancel">Cancel</b:Button>
			</b:ModalFooter>
		</b:Modal>

		<!-- PRODUCTS MODAL -->
		<b:Modal ui:field="selectProductsModal" title="Select Customer">
			<a:AppCellTable ui:field="productsCellTable"></a:AppCellTable>
			<b:ModalFooter>
				<b:Button icon="OK" ui:field="selectProductsModalOk">Ok</b:Button>
				<b:Button icon="CHEVRON_LEFT" ui:field="selectProductsModalCancel">Cancel</b:Button>
			</b:ModalFooter>
		</b:Modal>

	</g:HTMLPanel>

</ui:UiBinder> 